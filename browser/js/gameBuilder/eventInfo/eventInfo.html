<div class="container">
  <div class="row">
    <div class="col-md-offset-2 col-md-8 col-lg-offset-2 col-lg-8">
      <h2>Creating a new game</h2>
      <h4 class="subheader"><span class="focus">Step 3</span> Add events to your game</h4>
      <hr>
    </div>
    <div class="col-md-offset-2 col-md-8 col-lg-offset-2 col-lg-8">

      <form id="event-form" name="eventForm" ng-submit="submitEvents()">
        <div>
          <h2>EVENT DETAILS</h2>
          <div class="form-group">
            <label for="title">Title</label>
            <input type="text" ng-model="name.title" class="form-control" id="title" placeholder="Enter title">
          </div>
          <div ng-repeat="event in events track by $index">
            <h3>Effect
        <button type="button" ng-click="addEffect()" name="addEffect">+</button>
      </h3>
            <div class="form-group">
              <label for="type">Text or Decision?</label>
              <select type="text" ng-model="event.type" class="form-control" id="type">
                <option>Text</option>
                <option>Decision</option>
              </select>
            </div>
            <div class="form-group">
              <label for="targets">Choose Characters</label>
              <select type="text" ng-options="character.name for character in listCharacters($index) " ng-model="event.charToAdd" class="form-control" id="targets" placeholder="Characters involved">
              </select>
              <h3><button type="button" ng-click="addCharacter(event.charToAdd, event.targets, cloneLists[$index])">+</button></h3>
            </div>
            <div><span ng-repeat="target in event.targets track by $index">{{target.name}}<button type="button" ng-click="removeChar($index, event.targets, cloneLists[$parent.$index])">-</button>  </span></div>
            <div class="form-group">
              <label for="event-eventThatOccurred">Message to Characters</label>
              <textarea type="t" ng-model="event.eventThatOccurred" class="form-control" id="event-eventThatOccurred" placeholder="Message"></textarea>
            </div>
            <div ng-show="isDecision(event)">
              <h4>Question</h4>
              <div class="form-group">
                <label for="event-question">Question</label>
                <textarea type="text" ng-model="event.decision.question" class="form-control" id="event-question" placeholder="Question"></textarea>
              </div>
              <div class="form-group">
                <label for="event-choices">Choices</label>
                <input type="text" ng-model="event.currentChoice" class="form-control" id="event-choices" placeholder="Choice">
                <button type="button" ng-click="addChoice(event)">
                  <h6>+</h6></button>
                <div><span ng-repeat="choice in event.decision.choices track by $index">{{choice.choice}}<button type="button" ng-click="removeChoice($index, event)">-</button></span></div>
              </div>

            </div>
            <button type="button" ng-click="removeEffect($index)">-</button>
          </div>
        </div>
        <button type="submit" class="btn btn-default">Next step</button>
      </form>
    </div>
  </div>
</div>
